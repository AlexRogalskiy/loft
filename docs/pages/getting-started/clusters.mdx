---
title: Clusters & Cluster Apps
sidebar_label: 2. Clusters & Apps
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Step from '@site/src/components/Step/Step';

Now that your loft instance is running, you are ready to connect your first cluster and prepare it for the use by your engineers.

## Connect Cluster
In the loft UI, navigate to "Clusters" and click the "Connect Cluster" button. Connecting a cluster is the first step to making a cluster available to your engineers.

<br />
<Step>1</Step>

### Cluster Name

Enter a name for your cluster. This name must be a Kubernetes-compatible object name, i.e. only lowercase characters and dashes are allowed.

Cluster names should tell engineers what this cluster is used for and where it runs, e.g. `gke-prod`, `eks-dev-us-west-1`


<br />
<Step>2</Step>

### Cluster Connection

The management cluster (the one that your loft instance is running in) is, by default, not available as connected cluster. However, if you are using the on-premise edition, you will see a button `Connect loft cluster` which will make the management cluster available as connected cluster.

<Tabs
  groupId="edition"
  defaultValue="on-premise"
  values={[
    { label: 'Connect loft cluster (On-Premise only)', value: 'on-premise', },
    { label: 'Connect a different cluster', value: 'saas', },
  ]
}>
<TabItem value="on-premise">

:::info On-Premise only
Because we do **not** offer Kubernetes hosting (except for hosting your loft instance), you will **not** be able to connect the loft cluster when using the SaaS edition.
:::

```bash
# Add label: loft.sh/app: true
kubectl get secrets --all-namespaces --no-headers=true -l 'owner=helm,name in (cert-manager, nginx-ingress)' -o custom-columns=":metadata.namespace, :metadata.name" | xargs -L 1 kubectl patch secret --type=json -p='[{"op": "add", "path": "/metadata/labels/loft.sh~1app", "value": "true" }]' -n

# Add annotation to nginx-ingress: loft.sh/url: https://kubernetes-charts.storage.googleapis.com
kubectl get secrets --all-namespaces --no-headers=true -l 'owner=helm,name in (nginx-ingress)' -o custom-columns=":metadata.namespace, :metadata.name" | xargs -L 1 sh -c 'kubectl patch secret --type=json -p='\''[{"op": "add", "path": "/metadata/annotations/loft.sh~1url", "value": "https://kubernetes-charts.storage.googleapis.com" }]'\'' -n ${@} 2>/dev/null || kubectl patch secret --type=json -p='\''[{"op": "replace", "path": "/metadata/annotations", "value": {"loft.sh/url": "https://kubernetes-charts.storage.googleapis.com"} }]'\'' -n ${@}' "${0}"

# Add annotation to cert-manager: loft.sh/url: https://kubernetes-charts.storage.googleapis.com
kubectl get secrets --all-namespaces --no-headers=true -l 'owner=helm,name in (cert-manager)' -o custom-columns=":metadata.namespace, :metadata.name" | xargs -L 1 sh -c 'kubectl patch secret --type=json -p='\''[{"op": "add", "path": "/metadata/annotations/loft.sh~1url", "value": "https://charts.jetstack.io" }]'\'' -n ${@} 2>/dev/null || kubectl patch secret --type=json -p='\''[{"op": "replace", "path": "/metadata/annotations", "value": {"loft.sh/url": "https://charts.jetstack.io"} }]'\'' -n ${@}' "${0}"
```

</TabItem>
<TabItem value="saas">

### Cluster Connection

</TabItem>
</Tabs>

<br />
<Step>3</Step>

### System Apps


<br />
<Step>4</Step>

### Ready
